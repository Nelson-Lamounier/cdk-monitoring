# @format
# ArgoCD Repository Credentials
#
# Grants ArgoCD access to the private GitHub repository.
# The password/token is a placeholder â€” resolved from SSM
# by the bootstrap-argocd.sh script during first boot.
#
# SSM parameter: /k8s/{env}/github-token
#
# After bootstrap, ArgoCD uses these credentials to:
#   1. Clone the repo to read manifests
#   2. Watch for changes (polling every 3 minutes by default)

apiVersion: v1
kind: Secret
metadata:
  name: repo-cdk-monitoring
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  type: git
  url: https://github.com/Nelson-Lamounier/cdk-monitoring.git
  username: argocd
  password: "${GITHUB_TOKEN}"
