# @format
# Next.js Application Secrets (Placeholders)
#
# Values are resolved from AWS SSM during deployment by deploy-manifests.sh.
# deploy-manifests.sh creates this secret via kubectl before helm upgrade,
# so ArgoCD/Helm manages the manifest but actual values come from SSM.
#
# SSM Parameter Paths (from ssm-paths.ts):
#   DYNAMODB_TABLE_NAME  → /frontend/{env}/dynamodb/table-name
#   ASSETS_BUCKET_NAME   → /frontend/{env}/s3/assets-bucket-name
#   NEXT_PUBLIC_API_URL  → /frontend/{env}/api/gateway-url

apiVersion: v1
kind: Secret
metadata:
  name: nextjs-secrets
  annotations:
    kubernetes.io/description: "Sensitive environment variables for Next.js (DynamoDB, S3, API URL)"
  namespace: nextjs-app
  labels: {{- include "nextjs.componentLabels" . | nindent 4}}
type: Opaque
stringData:
  DYNAMODB_TABLE_NAME: "PLACEHOLDER"
  ASSETS_BUCKET_NAME: "PLACEHOLDER"
  NEXT_PUBLIC_API_URL: "PLACEHOLDER"
