# @format
# Resource Quota for the nextjs-app namespace
#
# Limits the application tier to allow 3-replica HA with rolling
# update headroom (~150% of steady-state usage).
# Prevents the application from starving monitoring workloads.

apiVersion: v1
kind: ResourceQuota
metadata:
  name: nextjs-quota
  namespace: nextjs-app
  labels: {{- include "nextjs.labels" . | nindent 4}}
spec:
  hard:
    requests.cpu: "1500m"
    requests.memory: 3Gi
    limits.cpu: "3"
    limits.memory: 4Gi
    pods: "6"
